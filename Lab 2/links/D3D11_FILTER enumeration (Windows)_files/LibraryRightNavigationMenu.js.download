(function(){var indocTocFixedModule=function(w,d,$){function highlightActiveSubTopic(){$("#indoc_toc #indoc_toclist>li").removeClass("active");var sections=$("div#content div>h2.LW_CollapsibleArea_TitleDiv"),activeSubTopicIndex=-1,documentScroll=$(document).scrollTop(),windowHeight=$(window).height();sections.each(function(i,elem){var section=$(elem).parent(),sectionHeight=section.height();activeSubTopicIndex===-1&&(section.position().top>documentScroll||section.position().top+sectionHeight>documentScroll+windowHeight)&&(activeSubTopicIndex=i)});activeSubTopicIndex!==-1&&($("#indoc_toc #indoc_toclist>li[data-index="+activeSubTopicIndex+"]").addClass("active"),$(".LW_CollapsibleArea_Anchor_Div.active").removeClass("active"),$("#Anchor_"+activeSubTopicIndex).addClass("active"))}function showSkinnyRating(){typeof define=="function"&&typeof require=="function"&&window.mtpsAmd?require("skinnyRating").adjustRatingPosition(!0):window.epx.windowsSkinnyRating&&typeof window.epx.windowsSkinnyRating.adjustRatingPosition=="function"&&window.epx.windowsSkinnyRating.adjustRatingPosition(!0)}function highlightSkinnyRating(){typeof define=="function"&&typeof require=="function"&&window.mtpsAmd?require("skinnyRating").adjustRatingHighlight(!0):window.epx.windowsSkinnyRating&&typeof window.epx.windowsSkinnyRating.adjustRatingHighlight=="function"&&window.epx.windowsSkinnyRating.adjustRatingHighlight(!0)}function unhighlightSkinnyRating(){typeof define=="function"&&typeof require=="function"&&window.mtpsAmd?require("skinnyRating").adjustRatingHighlight(!1):window.epx.windowsSkinnyRating&&typeof window.epx.windowsSkinnyRating.adjustRatingHighlight=="function"&&window.epx.windowsSkinnyRating.adjustRatingHighlight(!1)}function isMobileView(){return epx.library&&epx.library.responsive?epx.library.responsive.getCurrentViewType()==epx.library.responsive.viewTypes.Mobile:!0}function init(){var title=encodeURIComponent($("title").text()),canonicalUrl,canonicalMeta=$("link[rel='canonical']"),$rtlDirAttribute;canonicalUrl=canonicalMeta.length>0?encodeURIComponent(canonicalMeta.attr("href")):encodeURIComponent(w.location.href);$("#archiveDisclaimer").length>0&&($defaultArchiveDislaimerOffset=$("#archiveDisclaimer").outerHeight()+10);var facebookShareUrl="https://www.facebook.com/sharer/sharer.php?u="+canonicalUrl,twitterShareUrl="https://twitter.com/intent/tweet?original_referer="+canonicalUrl+"&text="+title+"&tw_p=tweetbutton&url="+canonicalUrl,googlePlusShareUrl="https://plus.google.com/share?url="+canonicalUrl;$(".isdFacebook").attr("href",facebookShareUrl);$(".isdTwitter").attr("href",twitterShareUrl);$(".isdGooglePlus").attr("href",googlePlusShareUrl);$("#isdShare").on("click",function(){return $("#socials").toggle(),$("#isdShare").attr("aria-expanded")=="true"?$("#isdShare").attr("aria-expanded","false"):$("#isdShare").attr("aria-expanded","true"),!1});$("#page").not("#socials").click(function(){$("#socials").hide();$("#isdShare").attr("aria-expanded","false")});$(":not(.isdFacebook,.isdTwitter,.isdGooglePlus)").focus(function(event){$("#socials").hide();$("#isdShare").attr("aria-expanded","false")});$("#isdShare,.isdFacebook,.isdTwitter,.isdGooglePlus").keyup(function(event){event.keyCode===27&&($("#socials").hide(),$("#isdShare").attr("aria-expanded","false"),$("#isdShare").focus())});$("#socials > a").on("click",function(){return w.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1});window.epx&&window.epx.topic&&window.epx.topic.isPrintExperience()===!0||($("#skinnyRating div.rating, #standardRating").length==0&&$("#provideFeedback1,#navigationButtons").hide(),$("#provideFeedback1,#provideFeedback2").click(showSkinnyRating),$("#provideFeedback1,#provideFeedback2").mousedown(highlightSkinnyRating),$("#provideFeedback1,#provideFeedback2").mousemove(unhighlightSkinnyRating),$("#provideFeedback1,#provideFeedback2").mouseup(unhighlightSkinnyRating),$rtlDirAttribute=$('html[dir="rtl"]'),isRtl=$rtlDirAttribute&&$rtlDirAttribute.length>0,$content=$("#content"),$leftNav=$("#leftNav"),$rightNav=$("#tocnav"),$mainContent=$leftNav.next(),$footer=$("#lib-footer"),$footer.length===0&&($footer=$("#ux-footer")),$rightNav=$mainContent.next(),w&&d&&$leftNav.length!==0&&$rightNav.length!==0&&$footer.length!==0&&$rightNav.length!==0)&&(setPosition(),$(w).scroll(function(){isItemClicking||(setPosition(),highlightActiveSubTopic())}),$(w).resize(function(){isItemClicking||(setPosition(),highlightActiveSubTopic())}),$("#rightNavigationMenuThumbnail").click(function(){$("body").append($('<div id="tocoverlayMask"><div id="overlay_indoctoc"><\/div><\/div>'));$("#overlay_indoctoc").html($("#indoc_toc").html().replace('id="indoc_toclist"',""));$("body").addClass("stop-scrolling");setTimeout(function(){$("#overlay_indoctoc").addClass("ready")},100);$("#overlay_indoctoc>ul>li").on("click",function(){var sectionIndex=$(this).attr("data-index"),targetSection=$($("div#content div>h2.LW_CollapsibleArea_TitleDiv")[sectionIndex]);$("body, html").animate({scrollTop:targetSection.position().top},500)});$("#tocoverlayMask").on("touchmove",function(e){e.preventDefault()});$("#tocoverlayMask").click(function(){var $mask=$(this);$("body").removeClass("stop-scrolling");$("#overlay_indoctoc").removeClass("ready");setTimeout(function(){$mask.remove()},300)})}),$.fn.draggable=function(){var offset=null,start=function(e){var orig=e.originalEvent,pos=$(this).position();offset={x:orig.changedTouches[0].pageX-pos.left,y:orig.changedTouches[0].pageY-pos.top}},moveMe=function(e){e.preventDefault();var orig=e.originalEvent;$(this).css({top:Math.min(Math.max(0,orig.changedTouches[0].pageY-offset.y),$(window).height()-$("#rightNavigationMenuThumbnail").height())})};this.bind("touchstart",start);this.bind("touchmove",moveMe)},$("#rightNavigationMenuThumbnail").draggable())}function setPosition(){var windowHeight=$(w).height(),documentHeight=$(d).height(),fixedTocTop=60,$fixInDocTocNav=$rightNav,rightNavHeight,mainContentHeight,nonFooterViewable,visibleContentHeight;$(window).width()<961?($fixInDocTocNav=$("#navMain",$rightNav),$rightNav.css("position","")):$("#navMain",$rightNav).css("width","").css("position","").css("top","");rightNavHeight=$fixInDocTocNav.height();mainContentHeight=$mainContent.height();windowHeight>rightNavHeight+fixedTocTop&&mainContentHeight>rightNavHeight+fixedTocTop&&$(w).scrollTop()+fixedTocTop>$content.offset().top?($fixInDocTocNav.css("position","fixed"),$fixInDocTocNav.css("margin-left","3px"),nonFooterViewable=documentHeight-$footer.height()-$(w).scrollTop()-60,nonFooterViewable>=rightNavHeight+fixedTocTop?$fixInDocTocNav.css("top",fixedTocTop+"px"):$fixInDocTocNav.css("top",(rightNavHeight-nonFooterViewable)*-1)):windowHeight<rightNavHeight+fixedTocTop&&mainContentHeight>rightNavHeight+fixedTocTop&&$(w).scrollTop()+windowHeight>rightNavHeight+$content.offset().top?($fixInDocTocNav.css("position","fixed"),visibleContentHeight=documentHeight-$footer.height()-$(w).scrollTop()-60,visibleContentHeight>=windowHeight?$fixInDocTocNav.css("top",(rightNavHeight-windowHeight)*-1):$fixInDocTocNav.css("top",(rightNavHeight-visibleContentHeight)*-1),$(w).scrollTop()<60&&$fixInDocTocNav.css("position","")):$fixInDocTocNav.css("width","").css("position","").css("top","").css("margin-left","")}var $content,$leftNav,$rightNav,$footer,$mainContent,$defaultArchiveDislaimerOffset=0,lastScrollLeft=0,isRtl=!1,isItemClicking=!1;return $(document).ready(function(){var sections,validTitle;if(init(),sections=$("div#content div>h2.LW_CollapsibleArea_TitleDiv"),sections.length>0){if($("#indoc_toc").show(),validTitle=!1,sections.each(function(i,elem){var title=$(elem).text().trim(),section,a;title&&(section=$('<li data-index="'+i+'"/>'),a=$('<a href="#'+title+'"/>').text(title),section.append(a),$("#indoc_toc #indoc_toclist").append(section),$(elem).find("div>a")[0].title="",validTitle=!0)}),!validTitle){$("#indoc_toc").hide();$("#rightNavigationMenuThumbnail").remove();return}$("#indoc_toc #indoc_toclist>li").on("click",function(){var targetSectionId;$(".LW_CollapsibleArea_Anchor_Div.active").removeClass("active");isItemClicking=!0;var sectionIndex=$(this).attr("data-index"),targetSection=$($("div#content div>h2.LW_CollapsibleArea_TitleDiv")[sectionIndex]),anchorOffset=0;isMobileView()||(anchorOffset=$defaultArchiveDislaimerOffset);$("body, html").animate({scrollTop:targetSection.position().top-anchorOffset},500,function(){$("#indoc_toc #indoc_toclist>li").removeClass("active");$("#indoc_toc #indoc_toclist>li[data-index="+sectionIndex+"]").addClass("active");isItemClicking=!1;setPosition()});targetSectionId=$(this).attr("data-index");$("#Anchor_"+targetSectionId).addClass("active")});highlightActiveSubTopic();$("div#content div>h2.LW_CollapsibleArea_TitleDiv").on("mouseover",function(){$(".LW_CollapsibleArea_Anchor_Div.active").removeClass("active");$(this).find(".LW_CollapsibleArea_Anchor_Div").addClass("active")});$("div#content div>h2.LW_CollapsibleArea_TitleDiv").on("mouseout",function(){$(this).find(".LW_CollapsibleArea_Anchor_Div").removeClass("active")})}$("#indoc_toc #indoc_toclist>li")&&$("#indoc_toc #indoc_toclist>li").length!=0||$("#rightNavigationMenuThumbnail").remove()}),{init:init,setPosition:setPosition}};typeof define=="function"&&window.mtpsAmd?define("indocTocFixed",["jquery","utilities"],function($){return tocFixedModule(window,document,$)}):(window.epx=window.epx||{},window.epx.library=window.epx.library||{},window.epx.library.indocTocFixed=indocTocFixedModule(window,document,$))})();